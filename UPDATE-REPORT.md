# 업데이트 사항

|     작성자      |          Email         |
|:------------:|:----------------------:|
| howisitgoing | howisitgoing@kakao.com |

</br>


**참고**

| 해결 | 미해결 |
|:--:|:---:|
| ✅  |  🟩 |


## beta v1.0.0 (23/08/19 ~ )
### 이슈 
* ✅ **[23/08/27]** 학교에서 메뉴를 제공하지 않았을 경우가 2가지로 발생
  * **아래 1번 경우에 대해서 DB에 저장하지 않는것으로 처리하여 2번 경우와 같은 예외를 발생하도록 수정함**
  * (1) 실제로 학교에서 **일부 식사만** 메뉴를 제공하지 않은 경우
    * e.g) 조식, 석식만 `blank`이거나 `학교 사정상 운영하지 않음`과 같은 경우
  * (2) 전체 식사 메뉴를 제공하지 않은 경우
    * DB에 데이터가 저장되지 않음에 따라 **커스텀 예외 처리중**

* ✅ **[23/08/19]** 주말(토, 일)에 학식 조회
  * **학교측에서 주말에는 학식 메뉴를 제공하지 않아, 별도의 안내 메시지 제공하도록 처리함**
    * 현재 기본 예외로 처리(`RuntimeException`)

* ✅ **[23/08/21]** 석식시간이 종료 되었음에도 석식 추천, 인기 메뉴 조회가 가능한 경우
  * **석식시간이 종료되면 추천, 인기 메뉴 조회시 예외를 발생시키고, 안내 메시지 응답으로 제공하도록 처리함.**

### 불편 사항
* ✅ **[23/08/27]** 학생회관 > 조식 > 메뉴 > 학생회관
  * `QuickReply`를 추가하여 조식, 중식, 석식 메뉴를 바로 조회할 수 있도록 변경함.
  * 메뉴 조회 후 다시 상위메뉴를 선택해야하는 불편함

### 기술 이슈
* ✅ **[23/08/28]** AOP @Transactional 변경감지
  * Aspect 자체에 @Trasactional 사용시 변경감지가 안됨
    * 프록시 내부 호출 문제라고 판단하여 @Trasactional을 처리하는 클래스를 분리하여 해결

### 기타
* ✅ **[23/08/27]** 회원 정책 변경
  * AS IS: 추천 기능을 이용한 회원만 등록함 
  * TO BE: 챗봇에 요청시 회원등록 이력이 없으면 등록하고, 회원등록 이력이 있으면 방문횟수 증가

* 🟩 캐싱
  * `Redis`를 이용하여 회원, 학식정보 캐싱하여 요청에 대한 응답으로 제공하고, 1분 단위로 데이터베이스에 갱신한다...?

* ✅ **[23/08/28]** 헤더
  * 유효한 `botApikey`를 입력한 요청에 대해서만 응답을 제공