# 버전 정보
|   버전    |     날짜     |
|:-------:|:----------:|
| v1.0.8  | 2023/11/09 |
| v1.0.73 | 2023/11/06 |
| v1.0.72 | 2023/10/25 |
| v1.0.71 | 2023/10/22 |
| v1.0.7  | 2023/10/17 |
| v1.0.6  | 2023/10/03 |
| v1.0.5  | 2023/09/18 |
| v1.0.4  | 2023/09/14 |
| v1.0.3  | 2023/09/06 |

# 이슈 및 업데이트 사항

|     작성자      |          Email         |
|:------------:|:----------------------:|
| howisitgoing | howisitgoing@kakao.com |

</br>


**참고**

| 해결 | 미해결 |
|:--:|:---:|
| ✅  |  🟩 |

## 시스템 개선(v1.0.73)
### 이력
* ✅ 특일 정보 API를 활용하여 예외처리 추가
  * 주말뿐 아니라, 공휴일에도 학식을 제공하지 않음.
  * 임시공휴일을 고려하여 매일 API 호출하여 해당 정보를 캐시에 저장한다.
  * 모든 요청마다 공휴일인지 확인한다.

## 시스템 개선(v1.0.72)
* ✅ 메뉴 추천시 학식 메뉴 데이터 정합성 이슈
  *  메뉴 추천시에 캐시에서 메뉴를 조회하고 변경 내역을 데이터베이스에 반영한다.

문제 발생 시나리오
```
1. 실시간 인기 메뉴 조회(학생회관 조식)
  - 캐시에서 조회한다.
2. 캐시(학생회관 조식)의 조회수 1증가
3. 1-2과정을 9번 반복하고 10번째 사람이 학생회관 조식 메뉴 추천을 누름
  - 동기화가 되지 않은 학생회관 조식을 데이터베이스에서 조회한다.
  - 캐시에는 조회수가 9이지만, 데이터베이스에는 조회수가 0이다.
4. 데이터베이스 조회수 1 증가
5. 데이터베이스 변경 내역을 캐시에 저장
  - 데이터베이스의 조회수1이 캐시에 조회수1로 저장
```

## 시스템 개선(v1.0.71)
* ✅ **[23/10/25]** 캐싱 전략 변경
  * 캐시에 학식 메뉴가 없으면 인기, 추천 메뉴 구별 불가
  * 원인: 캐시 동기화시 캐시 삭제를 하기 때문
  * 해결: 캐시 동기화시 캐시를 삭제하지 말고, 학교 식당 영업 시간 종료 후 캐시 삭제 적용
* ✅ **[23/10/25]** Rate Limiter 토큰 정책 변경
  * 자원 낭비 개선 목적
  * 기존: 3개/1sec, 변경: 1개/1sec

## 시스템 개선(v1.0.7)
### 이력
* ✅ **[23/10/22]** 테스트 문서 컨트롤러 추가

## 이슈(v1.0.6 | 23/10/04 ~ 17)
### 이력
* ✅ **[23/10/04]** 추천, 인기 메뉴 같은 현상
  * 추천 메뉴 로직 수정
* ✅ **[23/10/04]** 학식 메뉴 동기화 안되는 현상
  * 동기화 로직 수정

## 시스템 개선(v1.0.6)
### 이력
* ✅ **[23/10/03]** 학식 메뉴에 캐시 적용
  * 10분 주기로 데이터베이스와 동기화
* ✅ **[23/10/17]** Rate Limiter 적용
  * 시스템 안정성 확보 목적
  * 토큰 버킷 알고리즘 적용
    * 1초에 3개의 토큰 발행

## 이슈(v1.0.5 | 23/09/19 ~ 10/03)
### 이력
* ✅ **[23/10/03]** 추천, 인기 메뉴 없을시 예외 처리 추가
  * 학교측에서 메뉴를 제공하지 않아 추천, 인기 메뉴가 없는 경우 발생

## 이슈(v1.0.4 | 23/09/14 ~ 09/18)
### 이력
* ✅ **[23/09/19]** 학교식당 메뉴 미제공 조건 변경
  * **기존: 100글자 -> 변경: 50글자**
    * 100글자 이하의 학식 메뉴를 제공하는 경우 발생

## 이슈(v1.0.3 | 23/09/06 ~ 14)
### 이력
* ✅ **[23/09/13]** `TextCard` 형식 400자 제한 이슈
  * 학생회관 메뉴 짤림 현상
  * 학식 메뉴에 비필수적인 요소를 제외하여 글자수 줄임
    * 괄호를 포함한 영어, 공백을 포함한 영어, 칼로리 정보, 질량 정보를 제외하여 글자

* ✅ **[23/09/12]** 학교식당 메뉴 미제공 조건 변경
  * **기존: 25글자 -> 변경: 100글자**
    * 25글자 이상의 학식 메뉴 미제공 공지를 학교에서 제공하는 경우 발생
    * 학교식당에서 메뉴 미제공을 공지한 경우 DB에 저장하지 않도록 하는 로직

* ✅ **[23/09/14]** 회원 캐시 동기화 이슈
  * 회원 캐시가 동기화 되지 않음
  * `CacheMember`는 `CrudRepository`를 사용하여 데이터를 관리하도록 처리
